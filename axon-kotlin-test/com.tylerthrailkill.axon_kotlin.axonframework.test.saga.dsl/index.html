<HTML>
<HEAD>
<meta charset="UTF-8">
<title>com.tylerthrailkill.axon_kotlin.axonframework.test.saga.dsl - axon-kotlin-test</title>
<link rel="stylesheet" href="../../style.css">
</HEAD>
<BODY>
<a href="../index.html">axon-kotlin-test</a>&nbsp;/&nbsp;<a href="./index.html">com.tylerthrailkill.axon_kotlin.axonframework.test.saga.dsl</a><br/>
<br/>
<h2>Package com.tylerthrailkill.axon_kotlin.axonframework.test.saga.dsl</h2>
<h3>Types</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="-saga-test-fixture-builder/index.html">SagaTestFixtureBuilder</a></p>
</td>
<td>
<code><span class="keyword">class </span><span class="identifier">SagaTestFixtureBuilder</span></code><pre><code>FixtureExecutionResult validator = fixture
  .givenAggregate(aggregate1).published(
      GenericEventMessage.asEventMessage(new TriggerSagaStartEvent(aggregate1)), new TriggerExistingSagaEvent(aggregate1))
  .andThenAggregate(aggregate2).published(new TriggerSagaStartEvent(aggregate2))
  .whenAggregate(aggregate1).publishes(new TriggerSagaEndEvent(aggregate1))

  validator.expectActiveSagas(1)
  validator.expectAssociationWith("identifier", aggregate2)
  validator.expectNoAssociationWith("identifier", aggregate1)
  validator.expectScheduledEventOfType(Duration.ofMinutes(10), TimerTriggeredEvent::class.java)
  validator.expectScheduledEventMatching(Duration.ofMinutes(10), messageWithPayload(CoreMatchers.any(TimerTriggeredEvent::class.java)))
  validator.expectScheduledEvent(Duration.ofMinutes(10), TimerTriggeredEvent(aggregate1))
  validator.expectScheduledEventOfType(fixture.currentTime().plusSeconds(600), TimerTriggeredEvent::class.java)
  validator.expectScheduledEventMatching(fixture.currentTime().plusSeconds(600), messageWithPayload(CoreMatchers.any(TimerTriggeredEvent::class.java)))
  validator.expectScheduledEvent(fixture.currentTime().plusSeconds(600), TimerTriggeredEvent(aggregate1))
  validator.expectDispatchedCommands()
  validator.expectNoDispatchedCommands()
  validator.expectPublishedEventsMatching(noEvents())
</code></pre></td>
</tr>
</tbody>
</table>
<h3>Extensions for External Classes</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="org.axonframework.test.saga.-fixture-configuration/index.html">org.axonframework.test.saga.FixtureConfiguration</a></p>
</td>
<td>
</td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
